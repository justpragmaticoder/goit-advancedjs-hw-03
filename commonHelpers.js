import{a as f,S as h,i as y}from"./assets/vendor-91c99ba8.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&t(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function t(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const p="https://api.thecatapi.com/v1",_=`${p}/breeds`,E=`${p}/images/search?`,d="cat_breeds",u="cat_by_breed",l={}.CAT_API_KEY,g="live_bytNC2cujaqiVi4NMgtPCYmpdjwwzI4YqMM94fNkWsEQBwt71pQFtm3yT5u5YsHM";function A(){const e=localStorage.getItem(d);if(e){const s=JSON.parse(e);return console.log("[fetchBreeds] cachedCatBreeds: ",s),JSON.parse(s)}console.log("Does CAT_API_KEY exist: ",!!l);const n=l??g;return f.get(`${_}`,{headers:{API_KEY_HEADER:n}}).then(s=>(localStorage.setItem(d,JSON.stringify(s.data)),console.log("[fetchBreeds] response: ",s),s.data))}function C(e){const n=localStorage.getItem(u);if(n){const t=JSON.parse(n);return console.log("[fetchCatByBreed] cachedCatByBreed: ",t),JSON.parse(t)}console.log("Does CAT_API_KEY exist: ",!!l);const s=l??g;return f.get(`${E}breed_ids=${e}`,{headers:{API_KEY_HEADER:s}}).then(t=>(localStorage.setItem(u,JSON.stringify(t.data)),console.log("[fetchCatByBreed] response: ",t),t.data))}function c(e,n){e.classList.toggle("is-hidden-compeletely",!n)}function S(e,n,s){A().then(function(t){e.classList.remove("is-invisible");const r=t.map(({id:o,name:i})=>`<option value="${o}">${i}</option>`);e.insertAdjacentHTML("afterbegin",r.join("")),new h({select:e})}).catch(function(t){m(t)}).finally(function(){c(e,!0),c(n,!1),c(s,!0)})}function B(e,n,s,t){c(t,!1),c(s,!0),c(n,!0);const r=e.currentTarget.value;C(r).then(function(o){if(console.log("catData: ",o),o.length===0){t.innerHTML="";return}let{url:i,breeds:a}=o[0];t.innerHTML=`
        <img src="${i}" alt="${a[0].name}" width="400" loading="lazy" />
        <div class="text-box">
          <h2>${a[0].name}</h2>
          <p>${a[0].description}</p>
          <p><b>Temperament: </b>${a[0].temperament}</p>
          <p><b>Origin: </b>${a[0].origin}</p>
        </div>`}).catch(function(o){m(o)}).finally(function(){c(s,!1),c(n,!0),c(t,!0)})}function m(e){y.error({title:"ðŸ”» Oops!",message:e.message??"Something went wrong!",position:"topCenter"})}(()=>{const e=document.querySelector(".breed-select"),n=document.querySelector(".loader"),s=document.querySelector(".cat-description");e.addEventListener("change",t=>B(t,e,n,s)),S(e,n,s)})();
//# sourceMappingURL=commonHelpers.js.map
