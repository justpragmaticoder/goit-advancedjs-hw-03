import{a as u,S as m,i as h}from"./assets/vendor-91c99ba8.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();const f="https://api.thecatapi.com/v1",y=`${f}/breeds`,E=`${f}/images/search?`,l="cat_breeds",d="cat_by_breed",p={}.CAT_API_KEY;function S(){const t=localStorage.getItem(l);if(t){const e=JSON.parse(t);return console.log("[fetchBreeds] cachedCatBreeds: ",e),JSON.parse(e)}return u.get(`${y}`,{headers:{API_KEY_HEADER:p}}).then(e=>(localStorage.setItem(l,JSON.stringify(e.data)),console.log("[fetchBreeds] response: ",e),e.data))}function _(t){const e=localStorage.getItem(d);if(e){const n=JSON.parse(e);return console.log("[fetchCatByBreed] cachedCatByBreed: ",n),JSON.parse(n)}return u.get(`${E}breed_ids=${t}`,{headers:{API_KEY_HEADER:p}}).then(n=>(localStorage.setItem(d,JSON.stringify(n.data)),console.log("[fetchCatByBreed] response: ",n),n.data))}function c(t,e){t.classList.toggle("is-hidden-compeletely",!e)}function B(t,e,n){S().then(function(s){t.classList.remove("is-invisible");const r=s.map(({id:o,name:i})=>`<option value="${o}">${i}</option>`);t.insertAdjacentHTML("afterbegin",r.join("")),new m({select:t})}).catch(function(s){g(s)}).finally(function(){c(t,!0),c(e,!1),c(n,!0)})}function b(t,e,n,s){c(s,!1),c(n,!0),c(e,!0);const r=t.currentTarget.value;_(r).then(function(o){if(console.log("catData: ",o),o.length===0){s.innerHTML="";return}let{url:i,breeds:a}=o[0];s.innerHTML=`
        <img src="${i}" alt="${a[0].name}" width="400" loading="lazy" />
        <div class="text-box">
          <h2>${a[0].name}</h2>
          <p>${a[0].description}</p>
          <p><b>Temperament: </b>${a[0].temperament}</p>
          <p><b>Origin: </b>${a[0].origin}</p>
        </div>`}).catch(function(o){g(o)}).finally(function(){c(n,!1),c(e,!0),c(s,!0)})}function g(t){h.error({title:"ðŸ”» Oops!",message:t.message??"Something went wrong!",position:"topCenter"})}(()=>{const t=document.querySelector(".breed-select"),e=document.querySelector(".loader"),n=document.querySelector(".cat-description");t.addEventListener("change",s=>b(s,t,e,n)),B(t,e,n)})();
//# sourceMappingURL=commonHelpers.js.map
